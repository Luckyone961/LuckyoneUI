-- Lua functions
local unpack = unpack

-- AddOn namespace
local _, Private = ...

-- ElvUI modules
local _, L = unpack(ElvUI)

-- Runs after successful profile import
local function CallbackFunction(accepted)
	if not accepted then return end

	-- Handle minimap icon
	local LDBI = LibStub('LibDBIcon-1.0')
	BigWigsIconDB.hide = true
	LDBI:Hide('BigWigs')
end

-- BigWigs profiles
-- LC: 17/08/2025
function Private:Setup_BigWigs(layout)
	if not BigWigsAPI then Private:Print('BigWigs ' .. L["is not installed or enabled."]) return end

	-- Profile names
	local name_main = 'Luckyone Main'
	local name_healing = 'Luckyone Healing'

	-- Profile strings
	local profile_main = 'BW1:TzvZUTXnqyPUXnOOiTw2Wo)ahGue0auaNGA560cFP1RTSTCLTeKwx7MlDPwrTlr2Fyj5kz1J6upRhbFSh1H(aONGf6rWh6dGrp2dLd5(JCC0bILdN5BM5BgouL)B6Ybyoh5IBfXjcsui)vZWbuVSTNu1QzReJYB88BcJybi)8d6UFTZSQ1ozPY)xP5PGSFKFeJpOlnMr9X72Y4BFZ3xwTA21pwlOkS8DgTDzyCOwIHA10zektGr3ryF)OH7AOoBRUrmuOlEx1UDuIQYW907viw920yOdwiiHU8)CzwuSWNeIznp3Qr9ZQnUFuOOd5pWF1CifpNsXmhehBpUpQhwqcWTm26nvVbo80OWihpwua2tXhhkn9mua(6AxrzshnensbhilzDthpKWBApcN6JgbiT0uWQM6aiz5PUSOHNthIy94EJJ5yIJKQTV2XhX5oaRzN7gic)M2iFIByYsxhuei0kHsVj9GOij3H(yaQJKWFaHHDGsJfI5IfTBx)OJTORahdWUqgrx)E20rGycMSw3O2Hw3chFbPNWtd1RPldsogtC9enfEyg)1kD2JtLM3gjrWwRZrYIMLm)BG7lktxfeTFuKFVOHHNfh0vAPnDDb(kX99ExZMwwnpDkytZ(95yXVUzj1UouKJmBnUlE1dhiHd7PIeZiwpmt1)Ds5YLnMLL2aB(0Iekn6VbcHfyKPW(uN6xk3yD1DoCiSvdVbaFMia(NtRSquQPScn0ySGdUSSw)u3P1FZs3aYKDxsobir7BkslWjgQOOONLw5ESO5bnV4SRlmZM(KSsslwKZEHKGdIzqXk0q3xu4oRruCBk5kSpDTfnsvzalT1wOKdQ1q2xZRCBgtL3PtFAMA7flI2hXfTKiqC8LAN23LbHLhX59su4gAc5ojtYl1v7chIdDfEFMUnlRhOwpxS38SGiT(i)LcO02dz4Fpgh6mQ1dKdj2HUXhV1xxfsE18m7kWsvioaZrcG8Y6v057mRJRV)pNoFrDqAxWDQXxQr)HJbrVlkkagyTTwJSmPZqcfBVqZ)LpCI(88CAHlHz3lx7dj7ooiFSXKUi9Db(Vmx(PjY59YbqXH9o54F8VE2Z(PsLk9X(4F633w(byIfKkEizKPUoXsfPcKXzOFIMtH1T3gwF7pyagxtojdXLnT9uxwyW9ujrx18ITOR4iJdbKX5V4S(yA2JkjgWBnpzQeK8rCBK8LjlpbNHP9TdiCsxFSjI1GeqepAIAwjm1j5LtWxr1u0xRUfN5et1CTCqGgGyQNjmQ2ES0g1WH)9lOlNRsBmhAm8mbySzqTnMHV(uI8YG0HCbqdDeJ8XTR5p486mUUY)Wz6hktJIP6DP431nZXs4StECY6PbVCBsGzFIVV388qasPk0v)G8fy3hL8cVKkRnl7fnq2A0vZT80yFbH6tWmJc4onAGCAzo)RBqwFs)SBoVDfMXkULxPB5zYuR4pemvYpz7ExYsYx8B8PJpVU8EnouK8aLO128tMb0WH)wl5lGygTsUFYkK9H6ysf888tG87ZHmrYdTherCWZQf6k5wVDFXEbJ()d'
	local profile_healing = 'BW1:TzvZUnUnqy7QniOOyBTtqY(dYcSfl6cuGnlACA2wKlTrjo)TjXg2knP7LkAzAjIv)Wsszhx0t(s7z)iKJ9Op0ha)ei4hHCOpab9ypuoIIsoBwFGqC4mFZmFZWHU8FtReG5CKlUzeNiirH8xofhq90BpUMvJMjgLx7z3egXcq(5h0z36NzvVvYcL)VsZYaz3i)igVFhAmJ6J3UPX386VRC6Qzh)yLGAWY3A0YLHXHkjgPRModrAbgDgI99JgSTr6zB0jIHcDXBNUBRur1y4UQ9Piw72SyOnwiiHU8)Sclkw4tcXSgNBDYrNvFuVOqrBYVH)YzqkEoLIzoio2EupuxSGeGBASXRRDdC4PrHroESOaSxkFSV00Zqb4RRFfLjD0a0Wu4azjRA64HeEt6s4uF0qaPfMaw1qfajvM4YIgCoDaI1L7nkMJjosQ2(AhFeN7aSMDUBGi8RBH8jUHjlCDqrGqRgk9M0dIIKCl6JaOoqc)Eeg2bknwiMlw0Q1rhCOfDj4ya25Yi6Q3ZM2cetWK16tQVV1TWXxq6k8uqToTci5qmX1t0q4Hz81t1zhovAElKebBLohilAwY8)eCprz6YGODJI87gni8S4GoslTPRkWxjUV37y2WYQXPtaBA0Rhhl(5xvkDxBkYrMTg3fVJc7lHd7LgjMrSUywA)3XLlx2yQoTb28jfjuw0FdecZXitG9zo1VuUXQQ7m4qyRcEdaETia(NrRoxuQOScnuymNdUSSs)m3P0)vLUbKj7UKCcqI23uKwGtmsJIIEwA17XIM714IZUUWmB6J1LKMSiNDcjb7fZGIvOHQVOWDwdP4wuYvyF6kZBuALbS0wzrQCqTtK918Q3QzQ8oD6t0QTtSiAxex0uIaXXxQDwFNgclpIZ7LOWnueYDsMKxOQ2foeh6k8(uvBMUhOExxS3mDqKvFK)YauA7(m8VgJdDg28bYHeBrx7J36RQcjVCM2UcSsle7H5ibqE6Efv(o16WJ29TzZxspiRl4o14lvOV4iq07IIcGbwBQ0qNjThqOy75A(VCXXQZZZP5UeQVxUYhs2TDq(yJXDqQ7c8FAM8ttKZ7LdGId7E8H)WF90N(JLkv6J9X)0RNT8dWeliv8qYil96eltuAGmsJ(Xkofw3Cty9nFVbyCD5Kmex202n9YcdUNkj6AMxSbDjhzCiGmo)fNvhr1pQKyaV184jsqYhXTwYxKuzmwJP9T9jCshFSjIDcjGiE440zLWuNKxmgFfvrrFv6TyTtmtNRLdc0aet9mHr12JK2KoC4F)CALCvAH5qJHNjaJndQTXm81NsKxgKoKlaAOTyOpUvD)(NFeJRQ8lov9qzwumrTld)oUAhlHZo5rjRMf8YTjbM9i((EZYdbiLQsx(dYxGDFyYZ9sQUYu9lAGSvOlNB5PX(cc1NGzgfWDAuF50YC(x1GS64E6BoVzjMXsULxQt5PYuR4pemrYp6DVlz9K1x53)KPqoV)V0u(ChML8aT4K)Gwn3b6kypOaMufpl)eiX(mifKeqR(reh806HUss1B7NVtWW))d'

	-- Profile import
	-- API.RegisterProfile(addonName, profileString, optionalCustomProfileName, optionalCallbackFunction)
	BigWigsAPI.RegisterProfile('LuckyoneUI', (layout == 'main' and profile_main) or profile_healing, (layout == 'main' and name_main) or name_healing, CallbackFunction)

	-- No chat print here
	-- BigWigs will print a message with all important information after the import
end
