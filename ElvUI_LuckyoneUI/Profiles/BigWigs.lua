-- Lua functions
local unpack = unpack

-- AddOn namespace
local _, Private = ...

-- ElvUI modules
local _, L = unpack(ElvUI)

-- Runs after successful profile import
local function CallbackFunction(accepted)
	if not accepted then return end

	-- Handle minimap icon
	local LDBI = LibStub('LibDBIcon-1.0')
	BigWigsIconDB.hide = true
	LDBI:Hide('BigWigs')
end

-- BigWigs profiles
-- LC: 17/08/2025
function Private:Setup_BigWigs(layout)
	if not BigWigsAPI then Private:Print('BigWigs ' .. L["is not installed or enabled."]) return end

	-- Profile names
	local name_main = 'Luckyone Main'
	local name_healing = 'Luckyone Healing'

	-- Profile strings
	local profile_main = 'BW1:TzvZUTXnqyTytGrrrATSHvsdsasrqdqbIdAKRtl8LwV2YX2v2sqADtAU0LAf1Uez)HLKRLvpQlTN9JGp2J6qFa0tWc9i4d9bWOh7HYHC5Uk)OdelhoZ3mZ3mCOS(B6QXyohfG7MYjcsAc)jZXX0qZ2JB62PBUT1dE41jPSyuu5bd2R1PUT6LFBR)R2Icq2lnkLXpFanJrJW701(BE23zPwDgeLPf0ew(w7EbmmorlXwT64pbzeypycokkD8o2QZE(GugkjaVJA32krnz4H69keBEtrm0hleKKa(FUklntersWSoN52(OtBnDuAIOp53XF5cifpJsXmFeh7nDeAiwqIXDTF(ZAEnC4jPjP(HS0yCOIpoqA6POy8vTUGYKoAmAIcoqwEdh)qKiC2qcNgHMaiD7zGvD0bq(QZcyPJpJogXgYdNMXXeFjv7DLFeIZ9bwZR0nqe(19qrKGK8BFvCvGqRNi9M0dIQKCB6DbOEPe(9jmSpuACrSaSOxVJE5HU01GJbyxkJOn(aB6lqmbtwRB36a3BGJFfzOiud1M0vbjhIjbHIoIqmJVPsND5uP59qse8068szrZvM)TXJew01br7LMgnmDCYPzXdKw6rBiWxi(qVpWPJRBNtMb20z0iow8lpTMAxFkYxMT2VlEhLCUeoCOksCszdXmv)3Xwww2ZnPnWMFrvcve9xdHWsmYmyFHtJQvASU6Uaoe2QH3gG3icG)H06lfLAkRsdngl5GxBP1VWDA9FATRbzYUljNaKO31vPf4eBvuu1ZsR)bSOZ(DE1PxvzMh9EMssxwQ)UjK49ZyqXkXw3xu5o3juCpk5cCeDJLnsvzal90wOKdQ1w2xZRFJHPk70PFHrTDZeP7H4IUsei(rsTl67mq4gs8FRefUTMqENKj)X6QDLdXjbIWpr3Mz6bAnmahUWeef1h5VcaL2Ead)Bz4e)jDVLCiX20h8XB91vH8NSWyxfwQcX(yosaKNPxrNVZDp8O9(PI5lQdk6cENA8R1OVYuq0BstJHbwBP1WKj9htOyVLA(F9kxQpVmNw6sO5E5gVpz33hfHTVCasFxG)ZlKF6G8FRCauwYWJp8h(R7F)FSwTAFSp(NrJ8KFaM4cPsisgzQRtScrQazQb9J1CkSU1wW6l(EBW4wYjziUSPDO6YcdUNkj6MoV65018LXHaY4YxCAmLAEuj3gER5EZKGuoI7b5FE(QxIny6DZ5eozqe2bXAtIjI7CPAwjm1j)XxIVGQPOVsDl24eh1CTsqGgGmAOdmQ2BQ0g1WH)9ZORwQspmhAmcDay8yqTnJHV6eI8YG0HCbqd9ftIW9AfD(zhX46k)kZ1puwefZ07kWFqGXXs48YVBEJIGxUnp2zejkkCrziaPuD66Vx(cS7DYFuyE9nMBErdKTbD9slpjlsqOremZUcUtspxoTSK)1ninUCK5MZlwJzVwG1AdSMltTQ)qWmj)y29M8nZ3CJ2wZHC(GFTR85oml)wgX5)bTEPdmvWrqbmVoEr5jqI9PqkijGENNs8XZBLeij1WDE0UXt())'
	local profile_healing = 'BW1:TzvZUnUnqy7QniOOyBTtqY(dYcSfl6cuGnlACA2wKlTrjo)TjXg2knP7LkAzAjIv)Wsszhx0t(s7z)iKJ9Op0ha)ei4hHCOpab9ypuoIIsoBwFGqC4mFZmFZWHU8FtReG5CKlUzeNiirH8xofhq90BpUMvJMjgLx7z3egXcq(5h0z36NzvVvYcL)VsZYaz3i)igVFhAmJ6J3UPX386VRC6Qzh)yLGAWY3A0YLHXHkjgPRModrAbgDgI99JgSTr6zB0jIHcDXBNUBRur1y4UQ9Piw72SyOnwiiHU8)Sclkw4tcXSgNBDYrNvFuVOqrBYVH)YzqkEoLIzoio2EupuxSGeGBASXRRDdC4PrHroESOaSxkFSV00Zqb4RRFfLjD0a0Wu4azjRA64HeEt6s4uF0qaPfMaw1qfajvM4YIgCoDaI1L7nkMJjosQ2(AhFeN7aSMDUBGi8RBH8jUHjlCDqrGqRgk9M0dIIKCl6JaOoqc)Eeg2bknwiMlw0Q1rhCOfDj4ya25Yi6Q3ZM2cetWK16tQVV1TWXxq6k8uqToTci5qmX1t0q4Hz81t1zhovAElKebBLohilAwY8)eCprz6YGODJI87gni8S4GoslTPRkWxjUV37y2WYQXPtaBA0Rhhl(5xvkDxBkYrMTg3fVJc7lHd7LgjMrSUywA)3XLlx2yQoTb28jfjuw0FdecZXitG9zo1VuUXQQ7m4qyRcEdaETia(NrRoxuQOScnuymNdUSSs)m3P0)vLUbKj7UKCcqI23uKwGtmsJIIEwA17XIM714IZUUWmB6J1LKMSiNDcjb7fZGIvOHQVOWDwdP4wuYvyF6kZBuALbS0wzrQCqTtK918Q3QzQ8oD6t0QTtSiAxex0uIaXXxQDwFNgclpIZ7LOWnueYDsMKxOQ2foeh6k8(uvBMUhOExxS3mDqKvFK)YauA7(m8VgJdDg28bYHeBrx7J36RQcjVCM2UcSsle7H5ibqE6Efv(o16WJ29TzZxspiRl4o14lvOV4iq07IIcGbwBQ0qNjThqOy75A(VCXXQZZZP5UeQVxUYhs2TDq(yJXDqQ7c8FAM8ttKZ7LdGId7E8H)WF90N(JLkv6J9X)0RNT8dWeliv8qYil96eltuAGmsJ(Xkofw3Cty9nFVbyCD5Kmex202n9YcdUNkj6AMxSbDjhzCiGmo)fNvhr1pQKyaV184jsqYhXTwYxKuzmwJP9T9jCshFSjIDcjGiE440zLWuNKxmgFfvrrFv6TyTtmtNRLdc0aet9mHr12JK2KoC4F)CALCvAH5qJHNjaJndQTXm81NsKxgKoKlaAOTyOpUvD)(NFeJRQ8lov9qzwumrTld)oUAhlHZo5rjRMf8YTjbM9i((EZYdbiLQsx(dYxGDFyYZ9sQUYu9lAGSvOlNB5PX(cc1NGzgfWDAuF50YC(x1GS64E6BoVzjMXsULxQt5PYuR4pemrYp6DVlz9K1x53)KPqoV)V0u(ChML8aT4K)Gwn3b6kypOaMufpl)eiX(mifKeqR(reh806HUss1B7NVtWW))d'

	-- Profile import
	-- API.RegisterProfile(addonName, profileString, optionalCustomProfileName, optionalCallbackFunction)
	BigWigsAPI.RegisterProfile('LuckyoneUI', (layout == 'main' and profile_main) or profile_healing, (layout == 'main' and name_main) or name_healing, CallbackFunction)

	-- No chat print here
	-- BigWigs will print a message with all important information after the import
end
