-- Lua functions
local unpack = unpack

-- AddOn namespace
local _, Private = ...

-- ElvUI modules
local _, L = unpack(ElvUI)

-- Runs after successful profile import
local function CallbackFunction(accepted)
	if not accepted then return end

	-- Handle minimap icon
	local LDBI = LibStub('LibDBIcon-1.0')
	BigWigsIconDB.hide = true
	LDBI:Hide('BigWigs')
end

-- BigWigs profiles
-- LC: 22/05/2025
function Private:Setup_BigWigs(layout)
	if not BigWigsAPI then Private:Print('BigWigs ' .. L["is not installed or enabled."]) return end

	-- Profile names
	local name_main = 'Luckyone Main'
	local name_healing = 'Luckyone Healing'

	-- Profile strings
	local profile_main = 'BW1:LvvZUTTrq4WYyeuu0wjByLeGuG0dTafijiwUoT13mTL)RYwcs01P5s5kQrKlcj3T7UuYQh1PEwpc(rqh6dGEci0JGFem6XEO7WFvs0HfANF)M5B2Hg)dVwiiLepOltsvuwK87xcHC)IRN30Ut3etJN9n3fXeHKGsfdoS1L2T6LSHX)9Gv5b5qwatihpGhl4bW(DnF9R(jJ0tRbbXzcAIh)OzppbarzsmtpTCNskeyoykeeWMSVzQUDgWeKipy)0B7LkQPagMDpnInVphd9bLIg5j)7AcwSkGgbIoxz3(SlBnBels1N(xW3UclXR4Cq4sKGZSrKHGIgcDn35vnVdvEblI56lyHGFA)4yTRxscHBBDdxOt0eY00WHYsAy56tu(lgsL8aYumsBSa9QtgasQTWtWMCfFcrmu6plwcuxDR25w3aIu6IDnNY0Gi8h6rcOErjBCByfq41J0ztNbvvr(6vk4gf6wAV)Ctddt(My0rzRvf8gOWt0W4iQaCrkSVIiucn)2U1X23JQVMou5BteEG6L8AOKtbQNVQJYheYxMAZbsU29EeDeCYS5enrzRR52WiLbFlu0HmwWq2KOlJdhO90H3aH5NM9bwDST7CXc0NoJgjb1V)IhSSa(zn37WR62U2rmtoLQXg1tRWDoixGzkpwbp4(cJROIk9V14o8Y6CDr3CTuFeijQyHURxPgt93K26RMI41)KA06OoxFjVErt6yb8NXqK70UpupWUxk2SyIHGiJ8mkjVQY1Ekh6XP3ab3vzoM(ClrB6IQBRRoz9BRmYH)Ksdem3dIOHhHLHgxM8TxxvkvG6DYX661qVENDYP2z0AvYGipL)NNX)fKDRHEG)QIgE(8O(xwqlSQ)ekhCwveU1m7PfYoiwXoKivD1WI6gOlR8P3I0B7tDFVUCLMzSzg3U0(0Zo8xZFSNQOpN4QFMyKoFLFXCgE5DmwiU2y3pCE9SOX6ziWFTbY3(O5zwuIZ1Eyu8wz7pg69DjbG58bKmQv(BR0)1I4(E9IG4OHNJtaVEVp4uJMFbTYgbUprdN0bcrUO0CpRiGNNncHN7UlE(MF2eDULEjcrQhpgMUkqGLJMeBAD9o8nD1PwHLz5Y(gZ4f7ZtmX18pzHoiLBxEwYxNuBouetN7htL0bbGfr0MgsvF5801u4J)KJNd3WZ6kFx6t0IKyLUEPmi4Wvm33c3s6mt7t6J3)9R41knPhiXjsFlmmocKjJfWTxq1JO6ekvyBOVAAa0RvW4RotiZO2hTm7Bu5Oyr2T84pWRiX6W5K84Kg5GxFnX3AeniWFvjeWsQoFRpQEXU7xK8C)K6BVS4JjOShZ3Q0ZlIduuEafeMvH7c2yW)(Y(F2mrJ5JkEN8MnfMB6zS5aJL6sR6BXl09NIBVl5fjVy7GpBjwZh)hD1FPbejpmtCBJKz86LjOGbhHeysDyvPgSWslbDdO3yg1fw2kYt3u93)5heo9))'
	local profile_healing = 'BW1:LvvZUTTrqyZWyeuu0wjByLeGeG0dTafWjWwUjT13mTLJTRTLGeDsAUuUIAe5IWF2U7sjRIEsN6z9i4hbDOpa6jGqpc(rWOh7HUZY)us0HfANF)M5B2Hg)dRwiieepOtSGkPXrIVFbeY8lUEwt72DsnnEYtVnkMhsckv0)WwxA3QB66g)3AlZdYHXbXCXO(Seola2VJ5oV4Nm0Nw9dsYe0ep(rZUECaIYKyQpTCNqkey2FceeepEFtTUD7hZjrEW(6BVulQjhgKDxhXM3LJHEGusJ8e)DnECImGgb82xzF(Px2A6W4izp6FcF7sSeVIXaUlraothsgasAi0XC3x08wu5fXrXU(84qWx3pow56LKq4MwxZ4QenMmrhouwAdlxFI0F(aQGfqMGrA95OxTZaqAT5E84XxXgt4de(ttea1v1QDUXnGieUyxZPmnic)HUKaQxu663ewbew9iv2uzqwvK7Sucxlr309(ZmnmmzBGrhLTsvWAGcFTcghr5GlsH9KeUKR43ZBDS9DO63shi9TjCpq(CwnuYja1Zx2w6dCXZ12CGGPCVlrfbNmBETIOSv185WqPbBtu0HXXbdIhhDzsyFLNoSgim)8S33QTTD7lMJ(0E4qbi)TTxBrb8ZAU3IxvTDLJyMCkvJnQhxH7CqohZuEScw7UcJROIk9VZ4w8YQCDr3CLuFeiiYeUQRxPgt9t1T(QPiw9pRgToQ9BVKvVOjDmh(JeiYDsN7RgyFPgBwX8bapJ8mkjVQY1Ecd6YOxdb3wzoM(ClrB6GQpxvDI63uzKd7rLgWJDpiIgEewgkCzY2AvvAQa17KJ1vRHUDp91NyNrRvjdI8K(Frg)xq2Tg4b(llA45ZJQFzbTWQEJPmWzzr4wXShxi7Gez8HeHSJcwu3avzLp9wKEBFQ7huLRWmJnZ42f2NC6H)A(JDTIEmIR6zIHE(k)I5u8Y7JJdX1g79XZRNgnsndb(Rmq(UhmlZIsCUYdJI3kB9PqVNljamN1NKrTI3Su9xlI7hulcsIgCgobSZl)OtfA(f0kBe4(efC0de8Cr6CpTiGNLncHN7ThE(QF2eDULAjcrOgpgOxfWXYrrInTE7USnCvPwILz5Y(gtzf7ZtnX18pAUkiLBxEs63KwBguetN7grf0(bGfHFonKk)Qz61u4J)0JNbxZY6kFN(jArsS0RxkdcoCLW8TWTKotv(OF8(VFnRwPjDbbor6BHHXHJmzchU5cQAevLqHeBd9KtcGUTcgD1PCrg1(GfzFJkhfZZULh)(EfjwfoN0hM2ih8QRP(wdPbb(llHaws1zB(j1l2D)Y0N5NwFRffFmbL9q2MLEErsGKYcOa3SkCxepc8VRS)Nnt0y2WI3jVAdU5gEgB03yHQ0Q(w8Cv)P427t3oD7TcU3cSMp(37O(sdWtVFM4)6EPtz1ltqbdoejW06WYsnyHPlbvdO7OyQlSOvKNQP6V)ZoiCY)p'

	-- Profile import
	-- API.RegisterProfile(addonName, profileString, optionalCustomProfileName, optionalCallbackFunction)
	BigWigsAPI.RegisterProfile('LuckyoneUI', (layout == 'main' and profile_main) or profile_healing, (layout == 'main' and name_main) or name_healing, CallbackFunction)

	-- No chat print here
	-- BigWigs will print a message with all important information after the import
end
