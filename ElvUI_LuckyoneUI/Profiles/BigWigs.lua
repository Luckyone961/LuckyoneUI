-- Lua functions
local unpack = unpack

-- AddOn namespace
local _, Private = ...

-- ElvUI modules
local _, L = unpack(ElvUI)

-- Runs after successful profile import
local function CallbackFunction(accepted)
	if not accepted then return end

	-- Handle minimap icon
	local LDBI = LibStub('LibDBIcon-1.0')
	BigWigsIconDB.hide = true
	LDBI:Hide('BigWigs')
end

-- BigWigs profiles
-- LC: 28/07/2025
function Private:Setup_BigWigs(layout)
	if not BigWigsAPI then Private:Print('BigWigs ' .. L["is not installed or enabled."]) return end

	-- Profile names
	local name_main = 'Luckyone Main'
	local name_healing = 'Luckyone Healing'

	-- Profile strings
	local profile_main = 'BW1:TvvZUTTrqyrWyeuuKwjBy3KGeG0dTafWjiwUjTWxAnTL)lYwcs01P5s5sQrKlc)z7UlLS6rDQN1JGp2J6qFa0taHEe8H(ay0J9q3H)QMuDyH253VVzMDO2FYQhacbXf6gjOsAuO4RxabmVIRN10St3eDTN80BdJ4be)sf2h06cZw9swt7FQTmpihe5hXfJSzXCMpSxx9x(IVtl90W2potqt84B175YbimtIE6PHZesHaD7jGVF0490t1TJDeNe6c7LE7vPIAYHbz3tJyZ7YXqFqkPHUIFVopkw6tdbENlnBF6fTMomku2N(BWxUeP4LmgWDicWA6qYaqsdGU678IM3IkppkmYXJhfaEP1JJuUEbjaUP11mUkrJjtsdhklzldhpI0B(aQG5tMGrAT5OxDYaqs95U8OXxYgt4deEtJfa1rvQTUXXNieoyvZQmnic)MEeFQByYA3eubewJqv2uzqwrYxUucxlr3sR9NPRPPZwhJokBfwW2cfEScghs5Gd2c7ljCjx1FB36iZ7q1xrhi9mjCxq(CwDuYja11t2r6bCXZtTzFbt5EpIkcwz2CSQrzQ4CByOuJTbk6GOi)brJdVioWw5PfBleMFC2Tn6yA2585OpDgouaYFE7AlkGFwX9w8QQSRCeZKvPASq9OkCNdY5yMYJLFT7kmUQvuP)TA3IxwTxxunxj1hccImMRQ6vQXu)00sF1ueRXhXrJd7C1fSgffPJ4WVgdHot6Ep1a7RsXMreFaWZAEALnVk6AoHb9y0Rb)BRmhtFULOnDr1TvSt04MkJSypS0aEKZ(H0GdrAOWLoBZvvL2kq9w5yDvo0R3PhFIzwBTkzqOR07tY6)fn7wdCbVLff885r1VSGwyv)XugyTSiCRy2JkKTFSm6aIq2vblQJVIw5tVfP30J68EfDf6zDZSE7cZto9G3K)ypvrFgXr9mrlD(k)I(u8Y7IIcW1g7(FNxpnCKAgc8wzG8T3FwMfL4CLhgfVv28dHEFhIpOpZMK1Af)0s1FnioVxTiioCWzN8d)XJF8pwRwT)V)8xdhAP(d6IjYcpIcBPth8CrPazAr0plBEcp3Dx881FVo6Cl1gfIqnRmiDVah5MQJ204QDyR7OWHe5C5M)TMYkwUNOJ78F4Cvqkx18KKppP(mOiMw3nIkO2(GbH3MgqLpyw6olCtqYrZGRzzLOVk99Arsms31ugeCslM5zGRmTMQ8j9L8F)zS6LM0de44PNbgglo2wJ5WnNtvZRQekKyzOVCIp0RL)OlpLlY6Z3Fr2hSYrX8SB5X32TiXQWzL8fjBLdE11epJHuFFVLLqaPud2gFaFXQ7dsEMxsJnxu8Lfu2MSnk988yFjL5tbUEv4opAe4Dxz9pBazRzdlE086156R7QTUT2cf1Q(W8Cv9P427s2oz7nBRTa58r)sx1NDaEY9keNmL1OmbfDWHydmPbSSudsSpfPGQa0Bue1bw0k0vvu927z7hm5Fp'
	local profile_healing = 'BW1:TvvZUTTrqyXYyeuuKwjhy1KGeG0dTafiji2PjTWxAnTL)R2wcs01P5s5kQrKlc)z7UlLSk6jDQN1JGp2J6qFa0taHEe8H(ay0J9q3HKlPAs0HfANF)(Mz2Hg)fREiieepOtSGkPXrIVAbeY81xpEl72DsnnE4JUokMhsckv0F3wNz3QB6Ag)BTLfbz34GyUyuFwcNfaB3X85p7BnYoT6hKKlyl84Bm76XbikxIz2PL7eIwGz)jqqq84TnZ0Tz)yojYd2o72lZeTfhgKFplIBDtbg6bsjnYt8h15XjYaAeWBFU9jhDwRPdJJK9O)g8flrkEoJbCxIaCMoKmaK0qOJ5MpBRRrLNghf76ZJdb)S6X(kxpJecx16sgxLOXKjzHdLL20Y1Ni9NpGkybKjyKwBo6v7CaKwFUhpE85SXe(aH)0ebqDvLANRCdicHlw1CktdIWVUljG6fLU2vHvaH1isLnvgKvK85lLWLs0TSA)XMggMS1XOJYwHfSMOWduWypkhCXwypjHl5Q(7jT23(gu9f0bsFBc3dKpLvhLCiq98LTL(ax80mB2rWuU3LOIGtUnhOAu2koFcmuAWUlkA344GbXJJoljSVYthwteMVF27B122U9PZrFApCOaK)8tQTqd)8I714vvzx5iMjNs1yH6(v4UaKZXmveRGA3OnUQvuP)1gxJxwTxRRMRK69abrMWvv9k1yQFuwPVAkI1494O1ETV4mwdDrAFo8RjqK7Ko3snW(YmSzfZha88MNrzZRIU2tyqxg9si46kZX0xyjAthu9jk2jACvLroS7vAap2DNiA4Einu4YKTXQQYAfOENcSUkh629Odo0oVTwLmiYt6)X59FDZU1apWFPUGxmpQ(LhuTv9gtzGZsD4wXS7RLTtImExIq2rblQBGIwftV60B7tDFRIUcZ8UzEVDH9HhT7pw8yptrpgXv9mXiB(Q4I5u8YBIJdX1gV4)pVEu0i1me4VYa5RV9SClkX5kpm0Vv24DHEpxsayoRpjV1k(PLQ)ArCFRArqs0GJp87)Zh8GFOwTAFO)83dh6O(d6InYcFIcBzth8crzazQo6hNppHNV4f45R(ot05wQnkeHAwzq2EboYnvhDlRl2KTURchsKZLB(BoLPxUNAI78V3Cvqkx18W0plT(mqhtNBgrf0(bGfHFcnKkVZSSDw4MG09NbxYYlrFz27vDsSY21ugeCslH5BHRmDMQ8j7L8)8PS6LM0fe44PVfggho2wt4WvNsvZRQekKyzONCsa0TvWOZpIlY7Z3Er(hSkqX88BfXVVNoXQW5K(5PnlaV6AQV1qAqG)YsiGuQb7UVdFXQ7DsFSFAJnwO)YckBd2Dl980KajLfqbUzv4onEe4Ftz9pFaP5SH6hnVADU56EgR33yHIAvFyEUQ(OV9M0NK(Kn(9pAbY59)LoQp7a80BPfNoL1Omb6o4qSbM2awwQbj2NGuqva6okM6clAf5PkQ(B)4DcN8Fp'

	-- Profile import
	-- API.RegisterProfile(addonName, profileString, optionalCustomProfileName, optionalCallbackFunction)
	BigWigsAPI.RegisterProfile('LuckyoneUI', (layout == 'main' and profile_main) or profile_healing, (layout == 'main' and name_main) or name_healing, CallbackFunction)

	-- No chat print here
	-- BigWigs will print a message with all important information after the import
end
