-- Lua functions
local unpack = unpack

-- AddOn namespace
local _, Private = ...

-- ElvUI modules
local _, L = unpack(ElvUI)

-- Runs after successful profile import
local function CallbackFunction(accepted)
	if not accepted then return end

	-- Handle minimap icon
	local LDBI = LibStub('LibDBIcon-1.0')
	BigWigsIconDB.hide = true
	LDBI:Hide('BigWigs')
end

-- BigWigs profiles
-- LC: 28/08/2025
function Private:Setup_BigWigs(layout)
	if not BigWigsAPI then Private:Print('BigWigs ' .. L["is not installed or enabled."]) return end

	-- Profile names
	local name_main = 'Luckyone Main'
	local name_healing = 'Luckyone Healing'

	-- Profile strings
	local profile_main = 'BW1:Tz1pVTTruCPY4gueKwjNy1KGeGuuKcuGKGgNMKcV0AAlhlhBlbj6y3SuEI6e5HCK86DhTS6OM6SN7Kh7O(iOHotOpcEOFamk6uh69UJKIooEGw37DVFV3737pKv)lwTqSqG8XDIfejjos8nZWHSG8J7SQt7oPwvV)dopkMhIOfk6VrZ9DA2nDPQ)xL5zGSrmnMloUplHZO416y9Dp9vv1pT7ttmcwfE89wD95yCKrIL(PT3yuUaR(JXuA8O1S06Ew)yokYhVM(0l0IwLJhyoRrC1lYIHEyPKe5l(9A84ejLeH5TpWz3w73CYW4izpYVH)Q5qkEaJH5Eib2DYq0aSKeI7y9SNU65GY9IJI9c4XH4anFSLY09rH4ZAEcJRC0i0ynCGS0g2EbizW0bebJIgdiT0uWQ2MaiT2uFE8OdyJq8bIGjjcmXtr1UN5rrcHhWAUfUbIWVTlIs8Jsx6SWfbcB5WXYaIxhAIipl)3Z8ItIKVnM4HN1mYNsebR9W1dhZQtIesuKh(n4XI1b0S3T5woSVSS8xxkSMRrQz0GEQ)p4CBI)HeFHcmkIhEz4015DSu)XAuwEjwJ9GYkAldW8ntuLW4OcJ11Yl0ETNeXLA)oVWV7gh5ZUDzuk69sxkDP)42o1y3RS6EbXJwNs7OkbyUi4QkZcavkgyOnBSpj6gSBDPqnVMDzFNxzEWvfB6by1Ju)xv)LlAbFPITvfAGL3KWXEqW7G4(yz3UTE92oSLb1agLzUgxXgn9WvtIqf8cq9HKbYadupHvdKSnM4hi1eT4j67SUGPmVlsHGR5oVwns5O6o3fpuwvL2Eq1iMoiEu0(jH9vw6YAiXNiVQ37B32XP9EtbBApCOal)5hxrFQhd5PYwRlJxROJvWHd0rIDmFaMBk8vRw16CWhLhXYPbGHV7IemlBkuBy6PG1zXaTYC4eOmRVsbVgGT4Ql3tYrsu)9AUzRd2Bw(nn1X6LcEdtAvCJR4OJQAUFMBn3)XvohKPwjOOkGBDpFr2coXshClw0WQFfY1EZ2hU)zlmZLDN8kvhES36rKWnt4qnmYY0USWDoJz4UmYjykBLYgPlyGLUgl0YHRTRQXwu)IC6CrR(DZV26jY4nqczhfcepQ62zTJ5q4Owa9EfkcldHCPKj9vMMGfoeh5ld(mt3xERrZb(4G55brPDj1ZTDlo(xtWrEJ7Cn1M9xWU)hFIWufsxBEUDlWsxi2elqsG8WbMsPjFN5SDRnEt2lf0kY6cUun(id6xFci6DXXHW6QNBUrEM0BeHHDlntC01p1OViNknBMpUUYhs298quS1P9rMreXBNR(PnY79Q3AOwjUZ2)4FEV79tvQu5J9J)E4qx1patCGujaPIm9ugptKoqMKJ(ogofE(8NdpF5pybg3u96hKq10oqpdXHXxfrVQ9HpJTSEBjKXfFMqJjSITXwWhiCNPkqk28D)0ViT2P4CmDV4yIG0NITr8DjHe5npv)coyzu6RofFcZqrpspQN7K0hDrbcq1pHfydVC1DIYa9cI)5Zz1kUsxSa6kcSbmC5qHnHJpBpIAsq5nHe4GEYXuC3M0JpOfxyk7xFM5tBYcHPMtz433p3Xk4Ct)Y0gzrU6y6JShsO0G5fHaKp1z36dswGAVz6ddsRVYS8VbbKTc7wfwUxcvsyucMBTaU9IpwTbTG8nDhnoDy(yZlxMBTSF1L7xDMk1w8jCtv8t(P3bVSS6UF6KdAPgQXrY0RPfTYJ)KzanS1VyEHjREHFYRIdHIyAD88cnq(Dditu8q3JHp6i9R))d'
	local profile_healing = 'BW1:Tz1pVTTruCRYyeueKwjNyL)GeGuuKcuGKGgNMKcV0kAlhBhllbj640SuEI6e5HCK86DhTSk6KM6SNZKh7O(iOHotOpcEOFamk6uh69UJKIooEGw37DVFV3737pKv(lw1qSqG8XDIfejjos8nZWHSG8J7UMt7oPwvU39plkMhIOfk6VrZ9DA2nD5k)3sZZazJyAmxCuFwcNrXR3X67EYlROFA3NMyeSg847T66ZX4iJel9tBVXOCbw9hJP04rRBP190(XCuKpED9PNRfTghpWCwJ4ANNfd9WsjjYx8hv5XjskjcZBFGZE7SFZjdJJK9i)g(RMdP4bmgM7Hey3jdrdWssiUJ1tFYANbkBfhf7fWJdXbA(ylLP7JcXN28ygx5OrOXA4azP1T9cqYGPdicgfngqA5PGvTnbqA1P(84rhWgH4debtseyINIQDp1JIecpG1ClCdeHFBxeL4hLU8PHlce2kHJLbeVo0erEw(VN6fNejFtmXdpRzKpLicw)bnchZQrIesuKh(14XIgaA271Clh2Tkl)vLcR5AKAgnON6)doZM4FiXxOaJI4HxeoDDExl1FS6LLxI1y3VSI2YamFZevjmoQWyDT8CTx7jrCP2VZl87EXr(SBwgLIEV0Ltx(d30Pk7ULv3liEudkTJQeG5IGlRmlauPyGH2SX(KORXUXfc18A2f9DEL5(xwSPhGvls9Fv9xUOf8fk2wvObwEtch7bbVdI7JLD7UZR22HTcOgWOmZv)s2OPhUAseQGNdQpKmqgyG6XSQGKTXe)aPMOfpwFNgcMY8UifcUM78k1iLJQ7Cp8qzfvA7bvJy6G4rr7Ne2xzPlRUeFS8YEVVDBhN2TMc20E4qbw(ZpAj9PEmKNkBTUiE7eDKcoCGosSJ5dWCtHVsLkwNb(O8iwonam8DwKGzztHAdtpfSolgOlnhobkZ6RuWRbylU6Y9KCKe1VvZn35GwZYVPPowRuWBysRIBCjh92kM7N5wZ9F0sNbYuReuufWTUNTiBbNyPdUflAy1Ue5AVz7d3)0fM5YUDELQdp2RrejCZeoudJSmTllCNZygUlJCmMYwTSr6cgyPRXcTC4A7PASf1opNox0QFN8R1irgVbsi7OqG4rv3oRDmhch1cO3RqryziKlKmPV00eSWH4iFzWNB6(YBnAoWhhmppikTlPwUTBXX)AcoYBCNRO2S)C29(0teMQq66ZZTBbw6cXMybscKhoWukn57mNT3zJxN9sbTISUGluJFRb9Robe9U44qyD1Zm3ipt6nIWWULMjE7vpXOViNknBMpUU6ht298quS1j9rMreXBMR(PnY79Q3AOwjU72)4FE37(tlT0sFQF83dh6Q(byIdKkbivKPNY4zI0bYKC031WPWZN9m45l(blW4MQx)GeQM2b6ziom(Qi61Sp8PSv0BlHmU4ZeQpHvSn2c(aHBpvbsXMV7L(LPvpbNJP75hreK(uSnIVhjKiV(j6xWblJsF5j4Jzgk6H6r9CNK(WZlqaQ(jSaB4LRUtugOxq8pFbRAXv6IfqxrGnGHlhkSjC8PTiQjbL3esGd6jhtXDBsp6GD4ctz)QZmFAtwim1Ckd)((5owbNB6TsRNf5QJPp0EiHsdMxecq(uJDJpkzbQ96PpiiT2QZY)geq2QSBuyzReQKWOem3AbCTIpsTbTG8nDh1pzy(yZlwHBTIFLv6xzMk1w8jCtv8t(P3L2iTXQ)(NndY5T(fZBhtVsU40pWQv4G8Y3qO6LwdpVqdKyxdsbfb09i4Rns)6))d'

	-- Profile import
	-- API.RegisterProfile(addonName, profileString, optionalCustomProfileName, optionalCallbackFunction)
	BigWigsAPI.RegisterProfile('LuckyoneUI', (layout == 'main' and profile_main) or profile_healing, (layout == 'main' and name_main) or name_healing, CallbackFunction)

	-- No chat print here
	-- BigWigs will print a message with all important information after the import
end
