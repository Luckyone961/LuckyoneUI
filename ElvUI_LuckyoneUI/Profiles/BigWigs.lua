-- Lua functions
local unpack = unpack

-- AddOn namespace
local _, Private = ...

-- ElvUI modules
local E, L = unpack(ElvUI)

-- Runs after successful profile import
local function CallbackFunction(accepted)
	if not accepted then return end

	-- Handle Minimap icon
	local LDBI = LibStub('LibDBIcon-1.0')
	BigWigsIconDB.hide = true
	LDBI:Hide('BigWigs')
end

-- BigWigs profiles
function Private:Setup_BigWigs(layout)
	if not E:IsAddOnEnabled('BigWigs') then Private:Print('BigWigs ' .. L["is not installed or enabled."]) return end

	-- Profile names
	local name_main = 'Luckyone Main'
	local name_healing = 'Luckyone Healing'

	-- Profile strings
	local profile_main = 'BW1:Lvv3oTXruy2UbvvvLwBqqcsGu6fTsvrknqkPTChlycqXyl7LssUP741hV7OS)mDMzTX9U6R61(rWpc(I(a4NGv(rGhbuVSx05m7FKGVyKNZmNF(((oZzn(hwTqqiiEq7ybvsJJeF3ciK5xS989SB1o10y7DUnkMhsckpO3rnU0UrN0vn(VvwMhKJIdI5IH9yjCwaCqBZx(IFYqVA1lijZWE4YpA2XJdquMft9QL7ysHbZEJHGG4rhyQpB3EXCsKhCGE3(At7XH(z71rCV7YRHUGusJ8e)DnECImGgb8wxzFXzx2yYG4izx6FcFZseIxXya3LiaNjdi9bjneABU7l27w8WMXrXU(84qWxZhNOC9ssimRXnmUkrJiJ1HdTLUPLRpr6pVpvWciJXiT6C0RwzfqAT5E84rxXgr49f(tsea1vr1oZCdicHlYAoLPbRWVVdjG6fLU6SWQcHvpsLnvgKvG8hwkHBKOBAU)Ctddt2gy0FJI(AZJD7kjC5Hr0qh2MA7Qk5ykhCrvuFixjXx04e75yOAnyGaKV14o8UhkyQ71HOUQdRwruTv47cyG0GToA6O44G(XJIUmjShWfQ0GX5HPPNvlB7wnNJ(KLL3T9k6DDzexfAmVf3OiyLByECy1VF87oIYahDDzfZ7d8meBOq8m04Pa1ZxUL(ciHur(v46DbRClU7(YBbbMjL6A4yqqKjCfrxDmkl7Oz7QgNLAskrg31Lea51lw6NWH)ibICh3(rQwZ9z1FaLyDCRRVKT2hJy7XmOdJEdeCBfmXeBMDtTMIhFHcyI6ZQUKd7P3x0r9(yeaQmL7lIHM3Vz6bndD6C2Bo1otuRYee5j9)Im1VqkA03d8xwe18op1VffMWA(Xllcu1fyBvydzTJiczBvNb1nqHM82ZIeB7tD)GcLcZm9ltnxyF6zh9R5pO1hK38ymf9(AAFP)wtW)((44qJYcktCVxV3B3zAgIklTpQz(SOHQEzfnTXNwWAP2CApsw)N43wQ(RfX9dQN4jr9phv8xU)hTQgp9l4TSXY1NOIVURLNBsN(jfb88SwgC9vVcxF9pBIo3qnEGiu8AF9JCowFkrBpRR3LTMRk1sSUlhJV5ewXK6utCa(tNRcs5CJTt)60AtHIy6C3qQG2laSi8lOHu5JNQhaHp1tBmfUHL966B1eArsSWPg3vgeSzkH5BHZ)CMO8rRg)7xXQvELoGahf4BHHXHJ6xchM1KQ6xvjuirAORCCa0PrWWRoJlYu3pFr2xFYRI5z7YJFpVIeRcNt6ts3mV4vBt9Sgqdc8xwwciKQZw)tWlYUFz6Z8tRVXIIptG2EcB9spBMeiPSakWnRcxZ4HG)DL8FwpXMthu8U41RXnxZZyTEgluqR6RSZv8tXU3N(80NVrWNTaX8j)EB13qaE6JYmFHr6FXQxMGcfCakGP1HLLNGatdbfb0zym1fw0iYtrQ(h8Sddh))p'
	local profile_healing = 'BW1:Lvv3oTXruy2SbvvvLwmiibjqk9IwPQiLgiL0wUJfmbOySL9sjj30D86J3Du2FMoZS24QEt9v9A)i4hbFrFa8tWk)iWJaQx2l6CM9pi4lg55mZ5NVVVZCwJ)HTsiieepOvSGkPXrIVDoeY8l2E2U2nBLAAS123efZdjbLh09W6xyxVD6Yg)3slYdYHXbXCXGUSeola2VL5RE5pAOxT6gKKzyxC5hmB7XbikZIPE1YDePWGz3rqqq8W9n1NTt3yojYd2xVBpTPD5qVS96iU7T51qhqkPrEI)EfECImGgb8MxAF(PxuFC)4izh6FaF9ceIxYya3LiaNX9j9ajneAzUZl39g8WgXrXU(84qWxZhhRC9csimT(1mUkrdjJ0HdTLUHLRpr6pRhvWciJWiT8m0RMzfq6kZ84XdVKnKW7j8hNiaQRIQDM6gqecxK1CktdwHFxBsa1lkD5PHvfcRwKkBQmiRa53Vqcxlr30C)zMggMS1XO)wf91Ih72rs4YdIOHoSn02vvYruo4IQO(qUsIpV(X2ZWq1SFFbiFNXT4DpqWu3RnrDvh2kfr1wHVZH(sd2AOPdJJd6fpm6IKWUaxOsdgNhMMUwnTTB2yg6twwE)wlP31HrCvOX8gCJIGvUH5XHv7UXVZqkdC01LvmVhWZqSHcXtrJNaupF5M6lGesf5xHR3hS0n4U7kVfeyMuQRHJabrMWveD1XOSSTMTRACwOjPezChxsaKxVyPFmh(9eiYDuRhRAn3Jv7buI1rnV6c2Q3hX2JyqBg9Ai4MkyIj2m7MAnfp(CfWe1MwDjh2ZUROJ69riauzk3xednUBZ0dAgA3(03EIDMOwLjiYt6)5zQFHuuVNh4VOiQ5DEQFZlmH18twueOQlW2SWgYAhseYwQodQBGcn5TNfj22N6(rfkfMz6xMAo3(Ktp8xYFqRpiV5Xyc69v0Es)nhJ)9dXXHgLfuM4ENEV3T9KmevwA3Rz(0ObQEzfnT(NwWAP2Csxsw)N4xxO(RfX9JQN4jr9odv8xT39wvJN(z8w2y56tuXx31YZnPt)4IaEwwldU(6xJRV5NmrNRRgpqekETN(rohRpLOTR1v7Ww1vLAjw3LJX3ymRysDQjoa)zZubPCUXwPFv6ktGIy6C7aQG2naSi8ZPHu5tMOhaHp1tRpbUML966B0eArsSWPg3wgeSzkH5BHZ)CgR8rRg)7xYwP8kTbbokW3cdJdh1VeomTbv1VQsOqI0qh5OaOD9GbxEkxKPUF28SV(KxfZY2Lh)UEfjwfoN0NMUrEXR2M6z1Nge4VOSeqivJT2NGxKD)I0N7NwB95fFMaT9u2ALE2ijqszbuGBwfUgXda)Bl5)SEInM0V4DXBwLBUQNXQDnMRGw1xzNP4NIDFi9fPVy9GhnhX8X)wl13qaE6JZm)Npk9Vy1ktqHc2hfW0AWIYtqGPHGIaApiM6cZRh5Piv)9F(bHJ()'

	-- Profile import
	-- API.RegisterProfile(addonName, profileString, optionalCustomProfileName, optionalCallbackFunction)
	BigWigsAPI.RegisterProfile('LuckyoneUI', (layout == 'main' and profile_main) or profile_healing, (layout == 'main' and name_main) or name_healing, CallbackFunction)

	-- No chat print here
	-- BigWigs will print a message with all important information after the import
end
